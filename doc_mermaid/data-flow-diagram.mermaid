sequenceDiagram
    participant User
    participant MainActivity
    participant MediaViewModel
    participant MediaRepository
    participant MediaStore
    
    User->>MainActivity: Selects Photos/Videos tab
    MainActivity->>MainActivity: Check permissions
    MainActivity->>MediaViewModel: loadPhotos()/loadVideos()
    MediaViewModel->>MediaRepository: getPhotos()/getVideos()
    MediaRepository->>MediaStore: Query content provider
    MediaStore-->>MediaRepository: Return cursor
    MediaRepository-->>MediaViewModel: Return List<MediaItem>
    MediaViewModel-->>MainActivity: Update LiveData
    MainActivity-->>User: Display media items